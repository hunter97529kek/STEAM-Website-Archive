<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<title>Valve ERC</title>
	
	<style type="text/css">	<!--
	body {
		background : #373844;
		color : Silver;
		font-family : Arial, Helvetica, sans-serif;
		margin-top : 0px;
		margin-right : 0px;
		margin-left : 0px;
	}
	a {	color : #C4E1FF; text-decoration : none; }
	a:hover { color : #FFFFFF; text-decoration : underline; }

	-->
</style>
</head>

<body topmargin=0 leftmargin=0 marginwidth="0" marginheight="0" bgcolor="#373844" text="#C0C0C0">

<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#181831">
<tr>
    <td width="170" height="120"><img src="/images/logo_top2.gif" width="170" height="120" border="0" alt="" align="baseline"></td>
    <td width="*" height="120" align="center" background="/images/top_bg.gif">

		<table width="100%" height="120" border="0" cellspacing="0" cellpadding="0">
		<tr>
		    <td width="100%" align="center" style="font-size: 11px;">
<p align="center">
<font size="-2" color="#FFFFFF" face="Arial">powered by</font><br>
<a href="http://www.speakeasy.net/"><img src="/gfx/spkz/spkz_banner3.jpg" width="468" height="60" border="0"></a>
</p>
</td>
		</tr>
		<tr>
		    <td width="100%" valign="bottom">
				<p style="font-size: 12px; text-align: right; color: White; text-decoration: none;">
				<a href="/content/?page=about" style="text-decoration: none;">about</a>
				  -  
				<a href="/content/?page=contact" style="text-decoration: none;">contact</a>
				  -  
				<a href="/content/?page=sitemap" style="text-decoration: none;">site map</a>
				  
				</p>
			</td>
		</tr>
		</table>
		
	</td>
</tr>
</table>

<table width="100%" cellspacing="0" cellpadding="0" border="0">
<tr>
    <td width="150" valign="top">
	
	<table width="150" height="50" cellspacing="0" cellpadding="0" border="0">
	<tr>
	    <td><img src="/images/logo_bottom2.gif" width="150" height="50" border="0" alt=""></td>
	</tr>
	</table>

		
		
	<!-- menu bar start -->
	
	<!-- main menu -->
	
	<table width="148" cellspacing="0" cellpadding="0" bgcolor="#181831" style="border-width: 1px 1px 1px; border-style: none solid solid solid; border-color: Gray Gray Gray;"><tr><td>
	<table width="148" border="0" cellspacing="0" cellpadding="0">
	<tr>
	    <td width="10" bgcolor="#181831" background="/images/dark_blue.gif"> </td>
	    <td width="128" valign="top" background="/images/dark_blue.gif">
		
			<p style="font-size: 12px; color: White; text-decoration: none; font-weight: bold;">
			site navigation
			</p>
		
			<p style="font-size: 14px; text-align: right; color: White; text-decoration: none;">
			<a href="/">current news</a><br>
			<a href="/?archive=1">news archives</a><br>
			<br>
			<a href="/resources/">resources</a><br>
			<a href="/entities/">entities</a><br>
			<a href="/content/?page=utilities">utilities</a><br>
			<a href="/files/">files</a><br>
			<a href="/content/?page=contests">contests</a><br>
			<a href="http://www.pixelmaps.com/">Pixel map reviews</a><br>
			<a href="http://www.chatbear.com/cgi-bin/board.pl?boardid=390">forums</a><br>
			</p>
				
			
			<p><form action="/cgi-bin/search.pl" method="post"><input type="hidden" name="search" value="1">
			<input type="hidden" name="type" value="1">
			<input type="hidden" name="area" value="1">
			<input type="hidden" name="category1" value="1">
			<input type="hidden" name="category2" value="1">
			<input type="hidden" name="category3" value="1">
			<span style="color: White; font-size: 8pt;">search site:</span><br />
			<input type="text" name="terms" size="10" style="width: 128px;"><br />
			<a href="/search/" style="font-size: 8pt;">advanced search</a><br /></form></p>
			
			
		</td>
	    <td width="10" background="/images/dark_blue.gif"> </td>
	</tr>
	<tr>
	    <td width="148" height="10" colspan="3" background="/images/dark_blue.gif"></td>
	</tr>
	</table>
	</td></tr></table>

	<!-- menu table separator -->
	<table width="80" height="10" border="0" cellspacing="0" cellpadding="0"><tr><td><table width="1" height="10" cellspacing="0" cellpadding="0" align="center" bgcolor="#808080"><tr><td><span style="font-size: 1px; color: Gray;">.</span></td></tr></table></td></tr></table>
	
	<!-- hosted sites -->
	<table width="148" cellspacing="0" cellpadding="0" bgcolor="#181831" style="border-width: 1px 1px 1px 1px; border-style: solid solid solid solid; border-color: Gray Gray Gray Gray;"><tr><td>
	<table width="148" cellspacing="0" cellpadding="0" border="0">
	<tr>
	    <td width="148" height="10" colspan="3" background="/images/dark_blue.gif"></td>
	</tr>
	<tr>
	    <td width="10" background="/images/dark_blue.gif"> </td>
	    <td width="128" valign="top" background="/images/dark_blue.gif">
		
			<p style="font-size: 12px; color: White; text-decoration: none; font-weight: bold;">
			hosted sites
			</p>
		
			<p style="font-size: 11px; text-align: right; color: White; text-decoration: none;">
			<a href="http://coding.valve-erc.com/">Coding Collective</a><br>
			<a href="http://dev.valve-erc.com/index.php?go=hl_sdk">Half-Life SDK home</a><br>
			<a href="http://mapping.valve-erc.com/">Mapping Collective</a><br>
			<a href="http://www.pixelmaps.com/">Pixel Map Reviews</a><br>
			<a href="http://rcs.valve-erc.com/">Remote Compile System</a><br>
			<a href="http://spirit.valve-erc.com/">Spirit of Half-Life</a><br>
			<a href="http://tf.valve-erc.com/">TFMapped</a><br>
			<a href="http://dev.valve-erc.com/index.php?go=zhlt">ZHLT home</a><br>
			</p>	
		</td>
	    <td width="10" background="/images/dark_blue.gif"> </td>
	</tr>
	<tr>
	    <td width="148" height="10" colspan="3" background="/images/dark_blue.gif"></td>
	</tr>
	</table>
	</td></tr></table>

	<!-- menu table separator -->
	<table width="80" height="10" border="0" cellspacing="0" cellpadding="0"><tr><td><table width="1" height="10" cellspacing="0" cellpadding="0" align="center" bgcolor="#808080"><tr><td><span style="font-size: 1px; color: Gray;">.</span></td></tr></table></td></tr></table>
	
	<!-- in focus site -->
	<table width="148" cellspacing="0" cellpadding="0" bgcolor="#181831" style="border-width: 1px 1px 1px 1px; border-style: solid solid solid solid; border-color: Gray Gray Gray Gray;"><tr><td>
	<table width="148" cellspacing="0" cellpadding="0" border="0">
	<tr>
	    <td width="148" height="10" colspan="3" background="/images/dark_blue.gif"></td>
	</tr>
	<tr>
	    <td width="10" background="/images/dark_blue.gif"> </td>
	    <td width="128" valign="top" background="/images/dark_blue.gif">
		
			<p style="font-size: 12px; color: White; text-decoration: none; font-weight: bold;">
			in focus: <em>site</em>
			</p>
		
			<p style="text-align: center;">
			<a href="http://www.natural-selection.org/"><img src="/images/sites/ns-infocus1.gif" width="120" height="90" border="0" alt=""></a>
			</p>	

			<p style="font-size: 11px; color: Silver; text-decoration: none;">
			The soon-to-be-released <a href="http://www.natural-selection.org/">Natural Selection</a> is a unique Half-Life modification that blurs the line between first-person shooter and real-time strategy.  Join the ranks of the vicious aliens, gear up as a TSA Frontiersmen Marine, or log in as the Marine Commander to guide your team to victory against the aliens in this "First Person Strategy" Game.
			</p>	

		</td>
	    <td width="10" background="/images/dark_blue.gif"> </td>
	</tr>
	<tr>
	    <td width="148" height="10" colspan="3" background="/images/dark_blue.gif"></td>
	</tr>
	</table>
	</td></tr></table>

	<!-- menu table separator -->
	<table width="80" height="10" border="0" cellspacing="0" cellpadding="0"><tr><td><table width="1" height="10" cellspacing="0" cellpadding="0" align="center" bgcolor="#808080"><tr><td><span style="font-size: 1px; color: Gray;">.</span></td></tr></table></td></tr></table>

	<!-- speakeasy -->
	<table width="148" cellspacing="0" cellpadding="0" bgcolor="#181831" style="border-width: 1px 1px 1px 1px; border-style: solid solid solid solid; border-color: Gray Gray Gray Gray;"><tr><td>
	<table width="148" cellspacing="0" cellpadding="0" border="0">
	<tr>
	    <td width="148" height="10" colspan="3" background="/images/dark_blue.gif"></td>
	</tr>
	<tr>
	    <td width="10" background="/images/dark_blue.gif"> </td>
	    <td width="128" valign="top" background="/images/dark_blue.gif">
		
			<p style="font-size: 12px; color: White; text-decoration: none; font-weight: bold;">
			powered by...
			</p>
		
			<p style="text-align: center;"><img src="/gfx/spkz/logo_115x90copper.gif" width="115" height="90" border="0" alt=""></p>
		
			<p style="font-size: 11px; color: Silver; text-decoration: none;">Get your groove on with <a href="http://www.speakeasy.net/">Speakeasy.net</a>.<br>
			<br>
			"<a href="http://www.speakeasy.net/">SPEAKEASY.net</a> believes the Internet is in the beginning of its evolution. Broadband is changing the way we live our lives, our mission is to continue to support and develop the most empowering tool of our lifetime."</p>	
		</td>
	    <td width="10" background="/images/dark_blue.gif"> </td>
	</tr>
	<tr>
	    <td width="148" height="10" colspan="3" background="/images/dark_blue.gif"></td>
	</tr>
	</table>
	</td></tr></table>
	
	<!-- menu table separator -->
	<table width="80" height="10" border="0" cellspacing="0" cellpadding="0"><tr><td><table width="1" height="10" cellspacing="0" cellpadding="0" align="center" bgcolor="#808080"><tr><td><span style="font-size: 1px; color: Gray;">.</span></td></tr></table></td></tr></table>

	<!-- want more? -->
	<table width="148" cellspacing="0" cellpadding="0" bgcolor="#181831" style="border-width: 1px 1px 1px 1px; border-style: solid solid solid solid; border-color: Gray Gray Gray Gray;"><tr><td>
	<table width="148" cellspacing="0" cellpadding="0" border="0">
	<tr>
	    <td width="148" height="10" colspan="3" background="/images/dark_blue.gif"></td>
	</tr>
	<tr>
	    <td width="10" background="/images/dark_blue.gif"> </td>
	    <td width="128" valign="top" background="/images/dark_blue.gif">
		
			<p style="font-size: 12px; color: White; text-decoration: none; font-weight: bold;">
			want more?
			</p>
		
			<p style="font-size: 11px; color: Silver; text-decoration: none;">
			<a href="http://www.karljones.com/halflife/almanac.asp">The Handy Vandal's Almanac</a> provides links to pretty much every known (and unknown!) source of editing information available on the net. If you can't find it there, it probably doesn't exist. 
			</p>	
		</td>
	    <td width="10" background="/images/dark_blue.gif"> </td>
	</tr>
	<tr>
	    <td width="148" height="10" colspan="3" background="/images/dark_blue.gif"></td>
	</tr>
	</table>
	</td></tr></table>
	
	<!-- menu table separator -->
	<table width="80" height="10" border="0" cellspacing="0" cellpadding="0"><tr><td><table width="1" height="10" cellspacing="0" cellpadding="0" align="center" bgcolor="#808080"><tr><td><span style="font-size: 1px; color: Gray;">.</span></td></tr></table></td></tr></table>

	<!-- chatbear -->
	<table width="148" cellspacing="0" cellpadding="0" bgcolor="#181831" style="border-width: 1px 1px 1px 1px; border-style: solid solid solid solid; border-color: Gray Gray Gray Gray;"><tr><td>
	<table width="148" cellspacing="0" cellpadding="0" border="0">
	<tr>
	    <td width="148" height="10" colspan="3" background="/images/dark_blue.gif"></td>
	</tr>
	<tr>
	    <td width="10" background="/images/dark_blue.gif"> </td>
	    <td width="128" valign="top" background="/images/dark_blue.gif">
		
			<p style="font-size: 12px; color: White; text-decoration: none; font-weight: bold;">
			chatbear
			</p>
		
			<p style="font-size: 11px; color: Silver; text-decoration: none;">
			Our awesome forums are provided by Chatbear! Want some? <a href="http://www.chatbear.com/">Get some!</a> 
			</p>
			
			<p style="font-size: 11px; color: Silver; text-decoration: none; text-align: center;">
			<img src="/images/chatbear.gif" width="108" height="93" border="0" alt=""><br>
			<a href="http://www.chatbear.com/">Go there now!</a> 
			</p>
		</td>
	    <td width="10" background="/images/dark_blue.gif"> </td>
	</tr>
	<tr>
	    <td width="148" height="10" colspan="3" background="/images/dark_blue.gif"></td>
	</tr>
	</table>
	</td></tr></table>
	
	<!-- menu table separator -->
	<table width="80" height="10" border="0" cellspacing="0" cellpadding="0"><tr><td><table width="1" height="10" cellspacing="0" cellpadding="0" align="center" bgcolor="#808080"><tr><td><span style="font-size: 1px; color: Gray;">.</span></td></tr></table></td></tr></table>

	<!-- thanks -->
	<table width="148" cellspacing="0" cellpadding="0" bgcolor="#181831" style="border-width: 1px 1px 1px 1px; border-style: solid solid solid solid; border-color: Gray Gray Gray Gray;"><tr><td>
	<table width="148" cellspacing="0" cellpadding="0" border="0">
	<tr>
	    <td width="148" height="10" colspan="3" background="/images/dark_blue.gif"></td>
	</tr>
	<tr>
	    <td width="10" background="/images/dark_blue.gif"> </td>
	    <td width="128" valign="top" background="/images/dark_blue.gif">
		
			<p style="font-size: 12px; color: White; text-decoration: none; font-weight: bold;">
			thanks!
			</p>
		
			<p style="font-size: 11px; color: Silver; text-decoration: none;">
			The success of this site is dependant upon the questions and feedback of it's users. If you have any suggestions or feedback, please drop us a line!
			</p>	
			
			<p align="center"><img src="/images/hammer.gif" width="72" height="46" border="0" alt="teh hammre"></p>
			
			<p style="font-size: 11px; color: Silver; text-decoration: none;">
			"A building is alive, like a man. Its integrity is to follow its own truth, its one single theme, and to serve its own single purpose. A man doesn't borrow pieces of his body. A building doesn't borrow hunks of its soul. Its maker gives it the soul, and every wall, window and stairway to express it." - (Roark) Ayn Rand, The Fountainhead<br>
 			<br>
			"It has to be better than good for me. It has to be right" - Steve Lawler
 			</p>	
		</td>
	    <td width="10" background="/images/dark_blue.gif"> </td>
	</tr>
	<tr>
	    <td width="148" height="10" colspan="3" background="/images/dark_blue.gif"></td>
	</tr>
	</table>
	</td></tr></table>
	
	<!-- menu bar end -->
		
	</td>
    <td width="20"> </td>
    <td valign="top">
	<br>
	
	<!-- content start -->

	<FONT FACE="Arial" SIZE="-1">
<!-- description
[title] Rotating Lights
[desc] 
This is the effect as seen in the beginning of the Uplink demo and in various places in Half-Life.
[/desc]
[category] Tut: Half-Life
description -->

<P><B>Rotating Light Effect</B><BR>
There were various places in Half-Life (and in the Half-Life Uplink demo, from which the picture below was taken) where there are various forms of what appear to be rotating lights.  This effect is a combination of a few diffent entities- a func_rotating (the visible light "beams"), a light entity (for the actual light given off), and an env_render (which makes the rotating light beams visible when the effect is triggered).</P>

<P ALIGN="center"><IMG SRC="/gfx/resources/rotlight1.jpg" BORDER=0 ALT="" WIDTH=375 HEIGHT=308></P>

<P>The first thing to do is... build the light, of course.  Below is a closer look at the rotating light objects.</P>

<P ALIGN="center"><IMG SRC="/gfx/resources/rotlight2.jpg" WIDTH=375 HEIGHT=289 BORDER=0 ALT=""></P>

<P>In the picture above, the light fixture is a normal world brush (there is a 1 unit wide func_wall between it and the wall to prevent unnecessary brush splitting).  The three objects labeled <I>func_rotating</I> all belong to one func_rotating entity.</P>

<P><B>The func_rotating entity</B><BR>
The setup of this entity is fairly straightforward.  Below are the essential properties you'll need to set.  Something that should be kept in mind is that an origin brush (the green and white part of the func_rotating in the picture above) needs to be a part of the rotating entity.</P>	

<P><UL>
<LI> <B>Name</B> (<I>targetname</I>) - give this a value of <I>light1_rot</I> (for this example). Triggering this name will cause the func_rotating to toggle between on and off.
<LI> <B>Render Mode</B> (<I>rendermode</I>) - Set this to <I>Texture</I> (2).  
<LI> <B>FX Amount</B> (<I>renderamt</I>) - Set this to 0.  This, combined with the above Render Mode setting will make the func_rotating start out invisible.
<LI> <B>Rotation Speed</B> (<I>speed</I>) - Set this to a high number, like 250 or 300.
<LI> (Flags properties) <B>X Axis</B> or <B>Y Axis</B>  (<I>4</I> or <I>8</I>) - Setting one of these flags determines what axis the rotating object will spin around.  The easiest way to determine which flag you need to set is find the rotating object in the 2D views, and click in the 2D view that the rotating object would theoretically be rotating in.  In the Worldcraft toolbar, one of the 2D View buttons will become selected - XY, YZ, or XZ.  The flag that you need to set is the axis that is missing from the selected view.  For example, if the selected view is the XZ view, you should set the Y Axis flag.  If the selected 2D view is the XY view, then you don't need to enable either flag as the entity defaults to rotating on the Z Axis.
<LI> (Flags properties) <B>Not Solid</B> (<I>64</I>) - This flag needs to be set.  Otherwise the rotating beam of light is going to knock the player around. :)
</UL></P>

<P>The most complicated thing about this func_rotating entity will be texturing it correctly.  As you can see from the picture above, it's a yellow texture that fades to black.  There are two different textures you can use for this: <FONT FACE="Courier New" SIZE="-2">FADE</FONT> and <FONT FACE="Courier New" SIZE="-2">FADE2</FONT>.  You will more than likely need to scale the texture down a bit (and give the textures for the upper beam a negative Y scale to flip it around the right way) using the texture application tool (Shift+A).  Also, using the texture application tool, you'll neeed to apply the <FONT FACE="Courier New" SIZE="-2">BLACK</FONT> texture to the top and bottom of the beams.</P>

<P><B>The light entity</B><BR>
Next we'll add in the light entity.  Ok, honest this time, this one really is straightforward.  It should be placed just in front of the func_rotating object.</P>

<P><UL>
<LI> <B>Name</B> (<I>targetname</I>) - for this example, set this to <I>light1_light</I>. triggering this name will toggle the light on and off.
<LI> <B>Brightness</B> (<I>_light</I>) - this is just a suggest color and brightness, but you can set this to <I>255 255 0 100</I> which is a pure yellow at 100 brightness.
<LI> (Flags properties) <B>Initially Dark</B> (<I>1</I>) - set this flag to make the light start <I>off</I>.  
</UL></P>


<P><B>The ambient_generic entity</B><BR>
This is just an extra.  A common use for these lights is to signal an emergency event, and typically an alarm sound would accompany them.  Place the ambient_generic wherever you'd like the alarm sound to come from, and set it up with the following properties.	</P>

<P><UL>
<LI> <B>Name</B> (<I>targetname</I>) - for this example, set this to light1_sound.  Triggering this name will toggle the sound on and off.
<LI> <B>Path/filname.wav of WAV</B> (<I>message</I>) - set this to ambience/bigwarning.wav - its just a good alarm sound.  If you've got another sound in mind, use that.
<LI> <B>Volume</B> (<I>health</I>) - I prefer a rather low volume for my alarms, say 4 or so.  It really depends on how long the player is going to be in the alarm environment.  More than a minute of loud obnoxious alarm sounds can really become irritating. :)
<LI> (Flags properties) <B>* Radius</B> (<I>1, 2, 4, and 8</I>) - Choose the radius you'd prefer here.
<LI> (Flags properties) <B>Start Silent</B> (<I>16</I>) - Set this flag so the sound is silent until triggered.
</UL></P>

<P><B>Coordination</B><BR>
Ok, so now we have a light beam that's invisible, a light that is dark, and a sound that is silent.  Useful.  Sounds like some ancient riddle.  :)  To get the events rolling, we'll use a multi_manager to coordinate everything.  First, we need to setup an env_render to make the light beams visible when everything gets triggered.</P>

<P><B>The env_render entity</B><BR>
This is pretty simple to setup.	</P>

<P><UL>
<LI> <B>Name</B> (<I>targetname</I>) - for this example, set this to light1_rot_on
<LI> <B>Target</B> (<I>target</I>) - set this to light1_rot.  When this entity is triggered, its rendering effects will be applied to any entity with the <I>light1_rot</I> name, which in this case is the rotating beams of light.
<LI> <B>Render Mode</B> (<I>rendermode</I>) - Set this to <I>Additive</I> (5).  This gives the light beam a slightly opaque bright look.
<LI> <B>FX Amount</B> (<I>renderfx</I>) - Set this to about 75.  You want a fairly low brightness for this, to give the appearance of an intangible beam of light.
</UL></P>

<P>Now that we have the final piece of the puzzle, its time to coordinate everything.  Place a multi_manager in your level and use the following properties. </P>

<P><UL>
<LI> <B>Name</B> (<I>targetname</I>) - for this example, set this to light1_mm
</UL></P>

<P>The rest of these key values have to be added manually, by turning off SmartEdit mode in the multi_manager properties, then clicking on the Add button.</P>	

<P><UL>
<LI> <B>light1_rot_on</B>, <I>0</I> - This activates the env_render entity, rendering the light beams visible.
<LI> <B>light1_rot</B>, <I>0</I> -  This activates the func_rotating entity, causing it to start spinning.
<LI> <B>light1_light</B>, <I>0</I> - This activates the light entity, turning it on.
<LI> <B>light1_sound</B>, <I>0</I> - This activates the ambient_generic entity, turning on the alarm sound.
</UL></P>

<P>Now, all you need to do is activate the <I>light1_mm</I> multi_manager to turn on the rotating light.</P>

<P ALIGN="center"><IMG SRC="/gfx/resources/rotlight3.jpg" WIDTH=375 HEIGHT=289 BORDER=0 ALT=""></P>

<P>As shown in the picture above, there is a func_breakable which, when broken, triggers the multi_manager which starts the course of events.  This can be alternately handled many different ways - a trigger the player walks through, a button a player or monster activates, a trigger_auto that activates it after a certain time, etc etc.  If you need a map to disect, refer to the example map below.</P>

<P><B>Example Map</B><BR>
<LI> <A HREF="/files/?folder=/resources/examples/&filename=rotlight.zip">rotlight.zip</A></P>
</FONT>
	
	<!-- content end -->
	
	</td>
	<td width="10"> </td>
</tr>
</table>


<p><table width="100%" height="40" border="0" cellspacing="0" cellpadding="0" align="center" bgcolor="#181831" style="border-width: 1px 0px 0px 0px; border-style: solid solid solid solid; border-color: Gray Gray Gray Gray;">
<tr>
    <td align="center">
	
	<table width="500" cellspacing="0" cellpadding="2" border="0">
	<tr>
	    <td align="center"><p style="font-size: 11px;">Half-Life  and Worldcraft are trademarks of Valve, LLC. Copyright 1996-2002, All rights reserved. Site Content Copyright Valve, LLC 1998-2002, All Rights Reserved.</p></td>
	</tr>
	</table>

	</td>
</tr>
</table></p>


</body>
</html>

